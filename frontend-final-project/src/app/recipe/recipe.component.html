<div *ngIf="recipes?.length > 0">
    <div class="gallery" *ngFor="let recipe of recipes">
        <mat-card class="column">
            <mat-card-title style="font-size: 35px;">{{recipe.name}}</mat-card-title>
            <mat-card-content class="gallery-item">
                <mat-card class="column item">
                    <mat-card-title>type</mat-card-title>
                    <mat-card-content>{{recipe.type}}</mat-card-content>
                </mat-card>
                <mat-card class="column item">
                    <mat-card-title>preparation time</mat-card-title>
                    <mat-card-content>{{recipe.time}}</mat-card-content>
                </mat-card>
                <mat-card class="column item">
                    <mat-card-title>level</mat-card-title>
                    <mat-card-content>{{recipe.level}}</mat-card-content>
                </mat-card>
                <mat-card class="column item">
                    <mat-card-title>rating</mat-card-title>
                    <mat-card-content *ngIf="recipe.comments_number >= 1"><rating [max]="max" [(ngModel)]="recipe.sum_stars / recipe.comments_number" [readonly]="true"></rating></mat-card-content>
                    <mat-card-content *ngIf="recipe.comments_number == 0">No rating yet..</mat-card-content>
                </mat-card>
            </mat-card-content>
            <mat-card-title class="overline">ingredients :</mat-card-title>
            <mat-card-content>{{recipe.ingredients}}</mat-card-content>
            <br><br>
            <mat-card-title class="overline">preparation :</mat-card-title>
            <mat-card-content>{{recipe.preparation}}</mat-card-content>
            <br><br>
        </mat-card>  
        <div class="column"> 
            <img id="fav" (click)="addFav(recipe.recipe_id)" style="height: 40px; width: 40px; margin-right: auto; margin-left: auto; margin-top: 80px;" src="../../assets/images/3-removebg-preview (1).png">
            <mat-card class="comment">
                <mat-card-content>
                <form [formGroup]="form" (ngSubmit)="onSubmit(recipe.recipe_id)">
                    <p>
                        <rating [(ngModel)]="value" [max]="max" [readonly]="false" [titles]="['one','two','three','four']" formControlName="rating"></rating>
                    </p>
        
                    <p>
                        <mat-form-field>
                        <input type="string" matInput placeholder="Text" formControlName="text">
                        </mat-form-field>
                    </p>
                    <br>
                    <div class="button">
                        <button mat-button [disabled]='!username' type="submit">Submit comment :)</button>
                    </div>
        
                </form>
                </mat-card-content>
            </mat-card>
            <div style="overflow-y: scroll; height: 500px;" *ngIf="recipe.recipe_comments?.length != 0">
                <div *ngFor="let comment_id of recipe.recipe_comments">
                    <app-comment [recipe_comment_id] = 'comment_id' [recipe_id] = 'recipe.recipe_id'></app-comment>
                </div>
            </div>
            <div *ngIf="recipe.recipe_comments?.length == 0">
                <mat-card class="comment">
                    No comments yet...
                </mat-card>
            </div>
        </div> 
    </div>
</div>
<div *ngIf="recipes?.length === 0">
    <mat-card>
        <mat-card-title>No recipes yet ...</mat-card-title>
        <br>
    </mat-card>
</div>

